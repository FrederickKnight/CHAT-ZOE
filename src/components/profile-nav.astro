---
const data = Astro.locals
const isLogin = !!data.user?.id;
const currentPath = Astro.url.pathname;
---

<div>
    <div>
        {isLogin ? 
            <div>
                <div>
                    {data.user?.username}
                </div>
            </div>
            :
            <div>
                <div>
                    Guest
                </div>
            </div>
        }
    </div>
    <div>
        {isLogin ?
            <div>
                <form method="post" action="/">
                    <button type="submit">Profile</button>
                </form>
                <form method="post" action="/logout">
                    <button type="submit">Log Out</button>
                </form>
            </div>
            :
            <div>
                <form method="post" action="/login">
                    <button type="submit">Log In</button>
                </form>
                <form method="post" action="/signup">
                    <button type="submit">Sign Up</button>
                </form>
            </div>
        }
    </div>
</div>